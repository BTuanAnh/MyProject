@using WebApplication1.Models
@model Promotion
@{
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<div class="container mt-4">
    <h3>@ViewData["Title"]</h3>
    <form asp-action="SavePromotion" method="post" enctype="multipart/form-data">
        <input type="hidden" name="PromotionId" value="@Model?.PromotionId" />

        <div class="mb-3">
            <label class="form-label">Tên khuyến mãi</label>
            <input name="PromotionName" value="@Model?.PromotionName" class="form-control" />
        </div>

        <div class="mb-3">
            <label class="form-label">Giảm giá (%)</label>
            <input name="DiscountPercentage"
                   value="@(Model?.PromotionId == 0 || Model == null ? "" : Model.DiscountPercentage.ToString("0"))"
                   class="form-control" />
        </div>

        <div class="mb-3">
            <label class="form-label">Ngày bắt đầu</label>
            <input type="date" name="StartDate"
                   value="@(Model?.StartDate != null ? Model.StartDate.ToString("yyyy-MM-dd") : DateTime.Now.ToString("yyyy-MM-dd"))"
                   class="form-control" />
        </div>

        <div class="mb-3">
            <label class="form-label">Ngày kết thúc</label>
            <input type="date" name="EndDate"
                   value="@(Model?.EndDate != null ? Model.EndDate.ToString("yyyy-MM-dd") : DateTime.Now.ToString("yyyy-MM-dd"))"
                   class="form-control" />
        </div>

        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> Lưu
        </button>
        <a href="@Url.Action("Promotions")" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Quay lại
        </a>
    </form>
</div>